<div style="position: fixed; bottom: 0; right: 0">
  <!-- Clickable area: the thumbs-up image -->  
  <div id="clickableEmbed" style="cursor: pointer;">
    {{ "thumbs-up.png" | asset_url | image_tag }}
  </div>
</div>

<!-- Modal Overlay -->
<div id="virtualTryOnModal" style="
  display: none;
  position: fixed;
  z-index: 10000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.5);
">
  <!-- Modal Content -->
  <div id="modalContent" style="
    background-color: #fff;
    margin: 15% auto;
    padding: 30px;
    border: 1px solid #888;
    width: 80%;
    max-width: 500px;
    border-radius: 12px;
    position: relative;
    text-align: center;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  ">
    <!-- Close Button -->
    <span id="closeModalButton" style="
      position: absolute;
      top: 10px;
      right: 15px;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      color: #666;
    ">&times;</span>
    
    <h2 style="margin-bottom: 20px; color: #333;">Virtual Try On</h2>
    <p style="color: #666; font-size: 16px;">Welcome to Virtual Try On! This feature will help you visualize how our products look.</p>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const button = document.getElementById('virtualTryOnButton');
    const modal = document.getElementById('virtualTryOnModal');
    const closeButton = document.getElementById('closeModalButton');

    // Hover effect for button
    button.addEventListener('mouseenter', function() {
      this.style.transform = 'scale(1.05)';
      this.style.backgroundColor = '#333333';
    });

    button.addEventListener('mouseleave', function() {
      this.style.transform = 'scale(1)';
      this.style.backgroundColor = '#000000';
    });

    // Open modal
    if (button) {
      button.addEventListener('click', function() {
        modal.style.display = 'block';
        // Optional: Notify the parent Remix app
        window.parent.postMessage({ type: "OPEN_VIRTUAL_TRY_ON" }, "*");
      });
    }

    // Close modal
    if (closeButton) {
      closeButton.addEventListener('click', function() {
        modal.style.display = 'none';
      });
    }

    // Close modal when clicking outside
    window.addEventListener('click', function(event) {
      if (event.target === modal) {
        modal.style.display = 'none';
      }
    });
  });
</script>

{% schema %}
{
  "name": "Virtual Try On",
  "target": "body",
  "settings": []
}
{% endschema %}